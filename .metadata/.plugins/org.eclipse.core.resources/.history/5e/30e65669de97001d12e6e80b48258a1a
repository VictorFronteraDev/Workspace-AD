package _12ejercicioshibernate.b;

import dao.DaoArtista;
import dao.DaoGrupo;
import exceptions.BusinessException;
import hibernate.UtilesHibernate;
import pojos.Artista;
import pojos.Grupo;
import pojos.Pertenece;
import pojos.PerteneceId;

public class _02Ejercicio {
	public static void main(String[] args) {
		
		UtilesHibernate.openSession();
		
		Integer codGrupo = 1;
		String dniArtista = "1111111114";
		String funcion = "saxofon";
		Grupo g = null;
		Artista a = null;
		
		PerteneceId pId = null;
		Pertenece p = null;
		
		
		try {
			DaoGrupo daoGrupo = new DaoGrupo();
			DaoArtista daoArtista = new DaoArtista();
			g = daoGrupo.buscarPorId(codGrupo);
			a = daoArtista.buscarPorId(dniArtista);
			if(g != null && a != null) {
				pId = new PerteneceId();
				pId.setCod(codGrupo);
				pId.setDni(dniArtista);
				
				p = new Pertenece();
				p.setId(pId);
				p.setFuncion(funcion);
				System.out.println("En principio se ha cambiodo mira en la bd");
			} else {
				System.out.println("El grupo o artista indicado no existe");
			}
			
		} catch (BusinessException e) {
			System.out.println(e);
		}
	}

}
